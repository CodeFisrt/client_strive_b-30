<div class="header">
    <div class="container">
        <div class="header-content">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fa fa-user-plus"></i> Create New Employee</h1>
                    <p>Add a new team member to your organization</p>
                    <nav class="breadcrumb-nav">
                        <ol class="breadcrumb mb-0">
                            <li class="breadcrumb-item"><a href="#"><i class="fa fa-home"></i> Dashboard</a></li>
                            <li class="breadcrumb-item"><a href="#">Employee Management</a></li>
                            <li class="breadcrumb-item active">Create Employee</li>
                        </ol>
                    </nav>
                </div>
                <div class="col-md-4 text-end">
                    <a href="#" class="btn btn-light">
                        <i class="fa fa-arrow-left"></i> Back to List
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Content -->
<div class="container">
    <div class="form-container">
        <form id="employeeForm" method="POST" action="#">

            <!-- Basic Information Section -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="fa fa-user"></i>
                    Basic Information
                </h3>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="empName" class="form-label">Employee Name <span class="required">*</span></label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-user"></i></span>
                            <input type="text" [(ngModel)]="employeeObj.empName" class="form-control" id="empName"
                                name="empName" placeholder="Enter full name" required>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="userName" class="form-label">Username <span class="required">*</span></label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-at"></i></span>
                            <input type="text" class="form-control" [(ngModel)]="employeeObj.userName" id="userName"
                                name="userName" placeholder="Enter username" required>
                        </div>
                    </div>
                </div>

                <div class="row">

                    <div class="col-md-4 mb-3">
                        <label for="empCode" class="form-label">Employee Code <span class="required">*</span></label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-code"></i></span>
                            <input type="text" class="form-control" [(ngModel)]="employeeObj.empCode" id="empCode"
                                name="empCode" placeholder="e.g., CT-3201" required>
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="password" class="form-label">Password <span class="required">*</span></label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-lock"></i></span>
                            <input type="password" class="form-control" [(ngModel)]="employeeObj.password" id="password"
                                name="password" placeholder="Enter password" required>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Role & Designation Section -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="fa fa-briefcase"></i>
                    Role & Designation
                </h3>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="roleId" class="form-label">Role <span class="required">*</span></label>

                        <div *ngIf="roleList$ | async as roleData">

                            <select class="form-select" id="roleId" [(ngModel)]="employeeObj.roleId" name="roleId"
                                required>
                                <option value="">Select Role</option>
                                @for (item of roleData.data; track $index) {
                                <option [value]="item.roleId">{{item.role}}</option>
                                }
                            </select>
                        </div>

                        <!-- --{{roleList$ | async | json}} -->
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="empDesignationId" class="form-label">Designation <span
                                class="required">*</span></label>
                      
                            --{{designationList$ | async|json}}
                            <select class="form-select" id="empDesignationId" [(ngModel)]="employeeObj.empDesignationId"
                                name="empDesignationId" required>
                                <option value="">Select Role</option>
                                @for (item of designationList$ | async; track $index) {
                                <option [value]="item.designationId">{{item.designation}}</option>
                                }
                            </select>
                         

                    </div>
                </div>
            </div>

            <!-- Contact Information Section -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="fa fa-phone"></i>
                    Contact Information
                </h3>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="empEmailId" class="form-label">Official Email <span
                                class="required">*</span></label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-envelope"></i></span>
                            <input type="email" class="form-control" [(ngModel)]="employeeObj.empEmailId"
                                id="empEmailId" name="empEmailId" placeholder="employee@company.com" required>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="empPersonalEmailId" class="form-label">Personal Email</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-envelope-o"></i></span>
                            <input type="email" class="form-control" [(ngModel)]="employeeObj.empPersonalEmailId"
                                id="empPersonalEmailId" name="empPersonalEmailId" placeholder="personal@email.com">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="empContactNo" class="form-label">Primary Contact <span
                                class="required">*</span></label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-phone"></i></span>
                            <input type="tel" class="form-control" [(ngModel)]="employeeObj.empContactNo"
                                id="empContactNo" name="empContactNo" placeholder="+1 (555) 123-4567" required>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="empAltContactNo" class="form-label">Alternative Contact</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-phone-square"></i></span>
                            <input type="tel" class="form-control" [(ngModel)]="employeeObj.empAltContactNo"
                                id="empAltContactNo" name="empAltContactNo" placeholder="+1 (555) 987-6543">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Experience Section -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="fa fa-calendar"></i>
                    Experience
                </h3>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="empExpTotalYear" class="form-label">Total Years of Experience</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-calendar-check-o"></i></span>
                            <input type="number" class="form-control" [(ngModel)]="employeeObj.empExpTotalYear"
                                id="empExpTotalYear" name="empExpTotalYear" placeholder="0" min="0" max="50">
                            <span class="input-group-text">Years</span>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label for="empExpTotalMonth" class="form-label">Additional Months</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-calendar-o"></i></span>
                            <input type="number" class="form-control" [(ngModel)]="employeeObj.empExpTotalMonth"
                                id="empExpTotalMonth" name="empExpTotalMonth" placeholder="0" min="0" max="11">
                            <span class="input-group-text">Months</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Current Address Section -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="fa fa-map-marker"></i>
                    Current Address
                </h3>

                <div class="row">
                    <div class="col-12 mb-3">
                        <label for="empAddress" class="form-label">Street Address <span
                                class="required">*</span></label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-home"></i></span>
                            <textarea class="form-control" [(ngModel)]="employeeObj.empAddress" id="empAddress"
                                name="empAddress" rows="2" placeholder="Enter complete address" required></textarea>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label for="empCity" class="form-label">City <span class="required">*</span></label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-building"></i></span>
                            <input type="text" class="form-control" [(ngModel)]="employeeObj.empCity" id="empCity"
                                name="empCity" placeholder="Enter city" required>
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="empState" class="form-label">State <span class="required">*</span></label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-map"></i></span>
                            <input type="text" class="form-control" [(ngModel)]="employeeObj.empState" id="empState"
                                name="empState" placeholder="Enter state" required>
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="empPinCode" class="form-label">PIN Code <span class="required">*</span></label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-location-arrow"></i></span>
                            <input type="text" class="form-control" [(ngModel)]="employeeObj.empPinCode" id="empPinCode"
                                name="empPinCode" placeholder="123456" required>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Permanent Address Section -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="fa fa-map-pin"></i>
                    Permanent Address
                </h3>

                <div class="row">
                    <div class="col-12 mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="sameAsCurrentAddress">
                            <label class="form-check-label" for="sameAsCurrentAddress">
                                Same as current address
                            </label>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12 mb-3">
                        <label for="empPerAddress" class="form-label">Street Address</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-home"></i></span>
                            <textarea class="form-control" [(ngModel)]="employeeObj.empPerAddress" id="empPerAddress"
                                name="empPerAddress" rows="2" placeholder="Enter permanent address"></textarea>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label for="empPerCity" class="form-label">City</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-building"></i></span>
                            <input type="text" class="form-control" [(ngModel)]="employeeObj.empPerCity" id="empPerCity"
                                name="empPerCity" placeholder="Enter city">
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="empPerState" class="form-label">State</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-map"></i></span>
                            <input type="text" class="form-control" [(ngModel)]="employeeObj.empPerState"
                                id="empPerState" name="empPerState" placeholder="Enter state">
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="empPerPinCode" class="form-label">PIN Code</label>
                        <div class="input-group">
                            <span class="input-group-text"><i class="fa fa-location-arrow"></i></span>
                            <input type="text" class="form-control" [(ngModel)]="employeeObj.empPerPinCode"
                                id="empPerPinCode" name="empPerPinCode" placeholder="123456">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Form Actions -->
            <div class="form-actions">
                <div class="row">
                    <div class="col-md-6">
                        <p class="text-muted mb-0">
                            <i class="fa fa-info-circle"></i>
                            Fields marked with <span class="required">*</span> are required
                        </p>
                    </div>
                    <div class="col-md-6 text-end">
                        <button type="button" class="btn btn-secondary me-2">
                            <i class="fa fa-times"></i> Cancel
                        </button>
                        @if (currentEmpId == 0) {
                            <button type="button" (click)="onSave()" class="btn btn-primary">
                            <i class="fa fa-save"></i> Create Employee
                            </button>
                        } @else { 
                            <button type="button" (click)="onSave()" class="btn btn-warning">
                            <i class="fa fa-save"></i> Update Employee
                            </button>
                        }
                       
                      
                    </div>
                </div>
            </div>

        </form>
    </div>
</div>